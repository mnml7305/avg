package request;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;
/**
 * items テーブルへアクセスするための DAO クラス
 */
public class RequestDao {
	private Connection con = null;
	private ResultSet rs = null;
	private PreparedStatement ps = null;
    //private String driver = "com.microsoft.sqlserver.jdbc.SQLServerDriver";
	private String url = "jdbc:sqlserver://localhost;DatabaseName=gva";
	private String user = "user";
	private String password = "pass01";
    private String  query = null;
    
	/**
	 * items テーブルのデータを全て取得します。
	 *
	 * @return rs
	 * @throws SQLException
	 */
	public ResultSet selectAll() throws SQLException {


		try {
			// DB 接続
			con = DriverManager.getConnection(url, user, password);

			// SQL文を生成
			query = "SELECT * FROM carrier";
			ps = con.prepareStatement(query);

			// SQLを実行
			rs = ps.executeQuery();
            
		} catch (SQLException ce) {

			// データベースの処理に失敗した場合
			ce.printStackTrace();
            System.out.println("can't connectioned");
		}

		return rs;
	}

	/**
	 * データベース接続を切断
	 */
	public void close() {

		try {

			// データベースとの接続を切断
			if(con != null) {
				con.close();
			}
			if(ps != null) {
				ps.close();
			}
			if(rs != null) {
				rs.close();
			}
			//if(stmt != null) {
			//	stmt.close();
			//}
		} catch (SQLException se) {

			// データベースからの切断に失敗した場合
			se.printStackTrace();
            System.out.println("can't closed");
		}
	}
}

-----
bean

package request;

import java.io.Serializable;

public class RequestBean  implements Serializable {
	private static final long serialVersionUID = 1L;

	// 引数のないコンストラクタ
	public RequestBean() {}

	// 格納したいデータの変数
	private int carrier_id;
	private String carrier_name;

	// 変数に対する getter と setter
	public int getcarrier_id() {
		return carrier_id;
	}
	public void setcarrier_id(int id) {
		this.carrier_id = id;
	}
	public String getcarrier_name() {
		return carrier_name;
	}
	public void setcarrier_name(String name) {
		this.carrier_name = name;
	}

}


----
confirm

package request;

import java.io.IOException;

import jakarta.servlet.RequestDispatcher;
import jakarta.servlet.Servlet;
import jakarta.servlet.ServletContext;
import jakarta.servlet.ServletException;
import jakarta.servlet.annotation.WebServlet;
import jakarta.servlet.http.HttpServlet;
import jakarta.servlet.http.HttpServletRequest;
import jakarta.servlet.http.HttpServletResponse;

/**
 * Servlet implementation class RequestInput
 */
@WebServlet("/Confirm")
public class ConfirmServlet extends HttpServlet implements Servlet {
       
    /**
     * @see HttpServlet#HttpServlet()
     */

	 @Override
	 protected void doGet(HttpServletRequest request,
				HttpServletResponse response) throws ServletException, IOException {
		 
			ServletContext context = this.getServletContext();
			RequestDispatcher dispatcher = context.getRequestDispatcher("/WEB-INF/jsp/request/request_confirm.jsp");
			
			dispatcher.forward(request, response);
   }
		/**
		 * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)
		 */
		@Override
		protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
			// TODO Auto-generated method stub
			//doGet(request, response);
		}

}


